#include "EventHandler.h"

void EventHandler::LoadDummyData() {
    _evtCount = 10;
    uint8_t evt[10][12]  =   {
                                {0x00, 0x02, 0x04, 0x00, 0x00, 0x03, 0x90, 0x01, 0x00, 0x00, 0x00, 0x00},
                                {0x00, 0x01, 0x01, 0x00, 0x02, 0x03, 0xC0, 0xC7, 0x01, 0x0F, 0x00, 0x00},
                                {0x00, 0x01, 0x01, 0x00, 0x02, 0x03, 0xC0, 0xC7, 0x01, 0x05, 0x00, 0x00},
                                {0x00, 0x01, 0x01, 0x00, 0x02, 0x02, 0x40, 0x38, 0x01, 0x06, 0x00, 0x00},
                                {0x00, 0x01, 0x02, 0x00, 0x00, 0x01, 0x01, 0x00, 0x01, 0x0B, 0x00, 0x00},
                                {0x00, 0x01, 0x02, 0x00, 0x00, 0x01, 0x02, 0x00, 0x01, 0x0C, 0x00, 0x00},
                                {0x00, 0x01, 0x02, 0x00, 0x00, 0x01, 0x03, 0x00, 0x01, 0x0D, 0x00, 0x00},
                                {0x00, 0x01, 0x02, 0x00, 0x00, 0x01, 0x04, 0x00, 0x01, 0x0E, 0x00, 0x00},
                                {0x00, 0x01, 0x05, 0x00, 0x00, 0x03, 0x0A, 0x00, 0x04, 0x00, 0x02, 0x00},
                                {0x00, 0x01, 0x05, 0x00, 0x00, 0x03, 0x1E, 0x00, 0x04, 0x00, 0x03, 0x00}
                            };

    size_t size = _evtCount * sizeof(EVENT);
    _events = (EVENT *) malloc(size);
    memcpy((void *) _events, (void *) evt, size);

    Serial.printf("Data dump of _events[%d]:\n", _evtCount);
    for (int i = 0; i < _evtCount; i++) {
        for (int j = 0; j < 12; j++) {
            Serial.printf("%02X ", _events[i].buffer[j]);
        }
        Serial.printf("\n");
    }

    CheckEventsRequirement();

}


